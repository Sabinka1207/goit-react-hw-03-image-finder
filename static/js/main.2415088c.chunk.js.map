{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/Loader/Loader.jsx","Components/Button/Button.jsx","Utils/API.js","Components/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onClick","className","css","SearchForm","onSubmit","e","preventDefault","target","elements","request","value","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","data","onSelect","map","oneImageData","webformatURL","src","largeImageURL","alt","tags","ImageGalleryItemImage","id","ImageGallery","modalRoot","document","querySelector","Modal","handleKeyDown","code","console","log","props","modalToggle","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","link","Component","Spinner","color","height","width","Button","scrollTo","top","documentElement","scrollHeight","behavior","axios","defaults","baseURL","fetchImages","page","a","get","response","App","state","allImages","selectedImage","reqStatus","handleSelectImage","image","setState","handleSubmit","loadMore","prevState","_","result","hits","shouldLoadMore","Boolean","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2415088c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3GUDF\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__29qd4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__5Owj1\",\"Modal\":\"Modal_Modal__3rxuH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__gUMwJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3MqSI\"};","import css from \"./Searchbar.module.css\"\r\n    \r\nexport const Searchbar = ({ onClick }) => {\r\n    return (\r\n        <header className={css.Searchbar}>\r\n            <form className={css.SearchForm} onSubmit={e => {\r\n                e.preventDefault()\r\n                onClick(e.target.elements.request.value)\r\n\r\n            }}>\r\n            <button type=\"submit\" className={css.SearchFormButton}>\r\n            <span className={css.SearchFormButtonLabel}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n            className={css.SearchFormInput}\r\n            name=\"request\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            />\r\n        </form>\r\n        </header>\r\n    )\r\n}\r\n\r\n","import css from \"./ImageGalleryItem.module.css\"\r\n\r\nexport const ImageGalleryItem = ({ data, onSelect }) => {\r\n    return (\r\n        <>\r\n            {data.map(oneImageData => (\r\n                <li className={css.ImageGalleryItem} key={oneImageData.id}>\r\n                    <img onClick={() => onSelect(oneImageData.webformatURL)}\r\n                        src={oneImageData.largeImageURL}\r\n                        alt={oneImageData.tags}\r\n                        className={css.ImageGalleryItemImage} />\r\n                </li>\r\n            ))} \r\n        </>\r\n\r\n    )\r\n}","import css from \"./ImageGallery.module.css\"\r\nimport { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\n    \r\nexport const ImageGallery = ({ data, onSelect }) => {\r\n    return (\r\n        <ul className={css.ImageGallery}>\r\n            <ImageGalleryItem data={data} onSelect={onSelect}/>\r\n        </ul>\r\n    )\r\n}\r\n\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport css from \"./Modal.module.css\"\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      console.log('Нажали ESC, нужно закрыть модалку');\r\n\r\n      this.props.modalToggle(null);\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.modalToggle(null);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n        <div className={css.Overlay} onClick={this.handleBackdropClick}>\r\n            <div className={css.Modal}>\r\n                <img src={this.props.link} alt=\"\"></img>\r\n            </div>\r\n        </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport { Modal }","import { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass Spinner extends Component {\r\n  //other logic\r\n  render() {\r\n    return (\r\n      <Loader\r\n        type=\"ThreeDots\"\r\n        color=\"#999999\"\r\n        height={100}\r\n        width={100}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport { Spinner }","import css from \"./Button.module.css\"\r\n\r\n\r\n\r\n\r\nexport const Button = ({ onClick }) => {\r\n    window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: 'smooth',\r\n    });\r\n    return (\r\n        <button type=\"button\" className={css.Button} onClick={onClick}>Load more</button>\r\n    )\r\n}","import axios from \"axios\";\n\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\nconst KEY = \"16347216-fb50075837ded8f23f3479d31\";\n\nexport const fetchImages = async (request, page) => {\n  const response = await axios.get(`?key=${KEY}&q=${request}&page=${page}`);\n  return response.data;\n};\n","import { Component } from \"react\";\nimport \"./App.css\";\nimport { Searchbar } from \"./Searchbar/Searchbar\";\nimport { ImageGallery } from \"./ImageGallery/ImageGallery\";\nimport { Modal } from \"./Modal/Modal\";\nimport { Spinner } from \"./Loader/Loader\";\nimport { Button } from \"./Button/Button\";\nimport { fetchImages } from \"../Utils/API\";\n\nclass App extends Component {\n  state = {\n    allImages: [],\n    selectedImage: null,\n    reqStatus: null,\n    request: \"\",\n    page: 1,\n  };\n\n  handleSelectImage = (image) => {\n    this.setState({ selectedImage: image });\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { request, page } = this.state;\n    \n    if (prevState.request !== request || prevState.page !== page) {\n      this.setState({ reqStatus: \"loading\" });\n      const result = await fetchImages(request, page)\n      this.setState(prevState => ({ allImages: [...prevState.allImages, ...result.hits]}))\n      this.setState({ reqStatus: null })\n    } \n  }\n\n  handleSubmit = (request) => {\n    this.setState({allImages: [], request: request})\n  };\n\n  loadMore = () => {\n    this.setState( prevState => ({ page: prevState.page+1}))\n  }\n\n  render() {\n    const { allImages, selectedImage, reqStatus } = this.state;\n    const shouldLoadMore = Boolean(allImages.length)\n\n    return (\n      <div className=\"App\">\n        <Searchbar onClick={this.handleSubmit} />\n        <ImageGallery data={allImages} onSelect={this.handleSelectImage} />\n        {selectedImage && (\n          <Modal link={selectedImage} modalToggle={this.handleSelectImage} />\n        )}\n        {shouldLoadMore && !reqStatus && <Button onClick={this.loadMore}/>}\n        {reqStatus && <Spinner />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2HVqv\",\"SearchForm\":\"Searchbar_SearchForm__nN4gd\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2r3xm\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2yVSG\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1Ruv0\"};"],"sourceRoot":""}